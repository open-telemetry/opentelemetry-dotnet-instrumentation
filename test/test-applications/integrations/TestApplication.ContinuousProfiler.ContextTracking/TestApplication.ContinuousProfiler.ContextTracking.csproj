<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
      <OutputType>Exe</OutputType>
      <TargetFrameworks>net9.0;net8.0</TargetFrameworks>
      <ImplicitUsings>enable</ImplicitUsings>
      <Nullable>enable</Nullable>
      <!-- SA1518 needed for files generated by Grpc.Tools -->
      <NoWarn>SA1518;$(NoWarn)</NoWarn>
    </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="System.Diagnostics.DiagnosticSource" />
    <PackageReference Include="Grpc.Net.Client" />
    <PackageReference Include="Google.Protobuf" />
    <PackageReference Include="Grpc.Tools" PrivateAssets="all" />
  </ItemGroup>

    <ItemGroup>
      <Compile Include="..\TestApplication.ContinuousProfiler\Exporter\AllocationSample.cs">
        <Link>Exporter\AllocationSample.cs</Link>
      </Compile>
      <Compile Include="..\TestApplication.ContinuousProfiler\Exporter\ExtendedPprofBuilder.cs">
        <Link>Exporter\ExtendedPprofBuilder.cs</Link>
      </Compile>
      <Compile Include="..\TestApplication.ContinuousProfiler\Exporter\OtlpOverHttpExporter.cs">
        <Link>Exporter\OtlpOverHttpExporter.cs</Link>
      </Compile>
      <Compile Include="..\TestApplication.ContinuousProfiler\Exporter\SampleBuilder.cs">
        <Link>Exporter\SampleBuilder.cs</Link>
      </Compile>
      <Compile Include="..\TestApplication.ContinuousProfiler\Exporter\SampleNativeFormatParser.cs">
        <Link>Exporter\SampleNativeFormatParser.cs</Link>
      </Compile>
      <Compile Include="..\TestApplication.ContinuousProfiler\Exporter\ThreadSample.cs">
        <Link>Exporter\ThreadSample.cs</Link>
      </Compile>
    </ItemGroup>

  <ItemGroup>
    <Protobuf Include="..\..\..\IntegrationTests\opentelemetry\proto\common\v1\common.proto" Link="opentelemetry\proto\common\v1\common.proto" ProtoRoot="..\..\..\IntegrationTests" Access="internal" />
    <Protobuf Include="..\..\..\IntegrationTests\opentelemetry\proto\resource\v1\resource.proto" Link="opentelemetry\proto\resource\v1\resource.proto" ProtoRoot="..\..\..\IntegrationTests" Access="internal" />
    <Protobuf Include="..\..\..\IntegrationTests\opentelemetry\proto\profiles\v1development\profiles.proto" Link="opentelemetry\proto\profiles\v1development\profiles.proto" ProtoRoot="..\..\..\IntegrationTests" Access="internal" />
    <Protobuf Include="..\..\..\IntegrationTests\opentelemetry\proto\collector\profiles\v1development\profiles_service.proto" Link="opentelemetry\proto\collector\profiles\v1development\profiles_service.proto" ProtoRoot="..\..\..\IntegrationTests" Access="internal" />
  </ItemGroup>
</Project>
