<Project Sdk="Microsoft.NET.Sdk">

  <ItemGroup>
    <PackageReference Include="StackExchange.Redis" VersionOverride="$(LibraryVersion)" />
    <!-- Workaround! Microsoft.Extensions.Logging.Abstractions v8.0.0 is minimal version supported by auto instrumentation.
    StackExchange.Redis references older version. It prevents to load required version from Additional Dependencies store-->
    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" VersionOverride="8.0.0" />
    <PackageReference Include="System.Diagnostics.DiagnosticSource" Condition=" '$(TargetFramework)' == 'net8.0' " />
  </ItemGroup>

  <ItemGroup Condition=" '$(TargetFramework)' == 'net462' and ( '$(LibraryVersion)' == '' or $([MSBuild]::VersionGreaterThanOrEquals('$(LibraryVersion)', '2.10.1')) ) ">
    <!-- Fix MSB3277 for StackExchange.Redis 2.10.1+ -->
    <PackageReference Include="System.IO.Compression" ExcludeAssets="compile" />
    <PackageReference Include="System.Runtime.InteropServices.RuntimeInformation" ExcludeAssets="compile" />
  </ItemGroup>

</Project>
